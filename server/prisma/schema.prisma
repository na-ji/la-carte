generator photon {
  provider = "photonjs"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:root@localhost:3306/rocketmap"
}

model Gym {
  gym_id                  String   @default(cuid()) @id
  costume                 Int?
  enabled                 Boolean
  form                    Int?
  gender                  Int?
  guardPokemonId          Int      @map("guard_pokemon_id")
  isExRaidEligible        Boolean  @map("is_ex_raid_eligible")
  isInBattle              Boolean  @map("is_in_battle")
  lastModified            DateTime @map("last_modified")
  lastScanned             DateTime @map("last_scanned")
  latitude                Float
  longitude               Float
  park                    Boolean?
  shiny                   Boolean?
  slotsAvailable          Int      @map("slots_available")
  teamId                  Int      @map("team_id")
  totalCp                 Int      @map("total_cp")
  weatherBoostedCondition Int?     @map("weather_boosted_condition")

  @@map("gym")
}

model Gymdetail {
  gym_id      String   @default(cuid()) @id
  description String?
  lastScanned DateTime @map("last_scanned")
  name        String
  url         String

  @@map("gymdetails")
}

model Nest {
  nest_id         Int     @id
  lat             Float?
  lon             Float?
  name            String?
  nestSubmittedBy String? @map("nest_submitted_by")
  pokemonAvg      Float?  @map("pokemon_avg")
  pokemonCount    Float?  @map("pokemon_count")
  pokemonId       Int?    @map("pokemon_id")
  type            Boolean
  updated         Int?

  @@map("nests")
}

model Pokemon {
  id                      Int       @map("encounter_id") @id
  catchProb1              Float?    @map("catch_prob_1")
  catchProb2              Float?    @map("catch_prob_2")
  catchProb3              Float?    @map("catch_prob_3")
  costume                 Int?
  cp                      Int?
  cpMultiplier            Float?    @map("cp_multiplier")
  disappearTime           DateTime  @map("disappear_time")
  form                    Int?
  gender                  Int?
  height                  Float?
  individualAttack        Int?      @map("individual_attack")
  individualDefense       Int?      @map("individual_defense")
  individualStamina       Int?      @map("individual_stamina")
  lastModified            DateTime? @map("last_modified")
  latitude                Float
  longitude               Float
  move1                   Int?      @map("move_1")
  move2                   Int?      @map("move_2")
  pokemonId               Int       @map("pokemon_id")
  ratingAttack            String?   @map("rating_attack")
  ratingDefense           String?   @map("rating_defense")
  spawnpointId            Int       @map("spawnpoint_id")
  weatherBoostedCondition Int?      @map("weather_boosted_condition")
  weight                  Float?

  @@map("pokemon")
}

model Pokestop {
  pokestop_id        String    @default(cuid()) @id
  activeFortModifier Int?      @map("active_fort_modifier")
  enabled            Boolean
  image              String?
  incidentExpiration DateTime? @map("incident_expiration")
  incidentGruntType  Int?      @map("incident_grunt_type")
  incidentStart      DateTime? @map("incident_start")
  lastModified       DateTime  @map("last_modified")
  lastUpdated        DateTime? @map("last_updated")
  latitude           Float
  longitude          Float
  lureExpiration     DateTime? @map("lure_expiration")
  name               String?

  @@map("pokestop")
}

model Raid {
  gym_id      String   @default(cuid()) @id
  cp          Int?
  end         DateTime
  form        Int?
  gender      Int?
  isExclusive Boolean? @map("is_exclusive")
  lastScanned DateTime @map("last_scanned")
  level       Int
  move1       Int?     @map("move_1")
  move2       Int?     @map("move_2")
  pokemonId   Int?     @map("pokemon_id")
  spawn       DateTime
  start       DateTime

  @@map("raid")
}

model Scannedlocation {
  cellid       Int       @id
  band1        Int
  band2        Int
  band3        Int
  band4        Int
  band5        Int
  done         Boolean
  lastModified DateTime? @map("last_modified")
  latitude     Float
  longitude    Float
  midpoint     Int
  width        Int

  @@map("scannedlocation")
}

model TrsQuest {
  GUID            String  @default(cuid()) @id
  questCondition  String? @map("quest_condition")
  questItemAmount Boolean @map("quest_item_amount")
  questItemId     Int     @map("quest_item_id")
  questPokemonId  Int     @map("quest_pokemon_id")
  questReward     String? @map("quest_reward")
  questRewardType Int     @map("quest_reward_type")
  questStardust   Int     @map("quest_stardust")
  questTarget     Boolean @map("quest_target")
  questTask       String? @map("quest_task")
  questTemplate   String? @map("quest_template")
  questTimestamp  Int     @map("quest_timestamp")
  questType       Boolean @map("quest_type")

  @@map("trs_quest")
}

model TrsS2cell {
  id              Int   @id
  centerLatitude  Float @map("center_latitude")
  centerLongitude Float @map("center_longitude")
  level           Int
  updated         Int

  @@map("trs_s2cells")
}

model TrsSpawn {
  spawnpoint     String    @default(cuid()) @id @unique
  calcEndminsec  String?   @map("calc_endminsec")
  earliestUnseen Int       @map("earliest_unseen")
  firstDetection DateTime  @map("first_detection")
  lastNonScanned DateTime? @map("last_non_scanned")
  lastScanned    DateTime? @map("last_scanned")
  latitude       Float
  longitude      Float
  spawndef       Int

  @@map("trs_spawn")
}

model TrsSpawnsighting {
  id           Int      @id
  encounterId  Int      @map("encounter_id")
  scanTime     DateTime @map("scan_time")
  spawnpointId Int      @map("spawnpoint_id")
  tthSecs      Int?     @map("tth_secs")

  @@map("trs_spawnsightings")
}

model TrsStatsDetect {
  id            Int    @id
  mon           Int?
  monIv         Int?   @map("mon_iv")
  quest         Int?
  raid          Int?
  timestampScan Int    @map("timestamp_scan")
  worker        String

  @@map("trs_stats_detect")
}

model TrsStatsDetectRaw {
  id            Int     @id
  count         Int
  isShiny       Boolean @map("is_shiny")
  timestampScan Int     @map("timestamp_scan")
  type          String
  typeId        String  @map("type_id")
  worker        String

  @@map("trs_stats_detect_raw")
}

model TrsStatsLocation {
  id            Int    @id
  locationCount Int    @map("location_count")
  locationNok   Int    @map("location_nok")
  locationOk    Int    @map("location_ok")
  timestampScan Int    @map("timestamp_scan")
  worker        String

  @@map("trs_stats_location")
}

model TrsStatsLocationRaw {
  id            Int     @id
  count         Int
  dataTs        Int     @map("data_ts")
  fixTs         Int     @map("fix_ts")
  lat           Float
  lng           Float
  period        Int
  success       Boolean
  transporttype Boolean
  type          Boolean
  walker        String
  worker        String

  @@map("trs_stats_location_raw")
}

model TrsStatus {
  origin             String  @default(cuid()) @id
  currentPos         String?
  currentSleepTime   Int
  globalrebootcount  Int?
  globalrestartcount Int?
  init               String?
  lastPogoReboot     String?
  lastPogoRestart    String?
  lastPos            String?
  lastProtoDateTime  String?
  rebootCounter      Int?
  rebootingOption    String?
  restartCounter     String?
  routemanager       String?
  routeMax           Int?
  routePos           Int?

  @@map("trs_status")
}

model TrsUsage {
  usage_id  Int     @id
  cpu       Float?
  garbage   Int?
  instance  String?
  memory    Float?
  timestamp Int?

  @@map("trs_usage")
}

model Weather {
  s2_cell_id      String    @default(cuid()) @id
  cloudLevel      Int?      @map("cloud_level")
  fogLevel        Int?      @map("fog_level")
  gameplayWeather Int?      @map("gameplay_weather")
  lastUpdated     DateTime? @map("last_updated")
  latitude        Float
  longitude       Float
  rainLevel       Int?      @map("rain_level")
  severity        Int?
  snowLevel       Int?      @map("snow_level")
  warnWeather     Int?      @map("warn_weather")
  windDirection   Int?      @map("wind_direction")
  windLevel       Int?      @map("wind_level")
  worldTime       Int?      @map("world_time")

  @@map("weather")
}
